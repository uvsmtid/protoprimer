---
use_case: UC_54_26_66_63
case_title: lib access to config data
case_status: TODO
---

## Problem

There should be a way to access `protoprimer` config data for reuse in other (entry) scripts.

Other scripts must always start as `entry_script`-s
(see [FT_75_87_82_46.entry_script.md][FT_75_87_82_46.entry_script.md]).

Using the data in entry script means `protoprimer` acts as a `lib` with API to provide that data.

The access to the config data depends on [FT_89_41_35_82.conf_leap.md][FT_89_41_35_82.conf_leap.md]
starting from the path to `proto_code`.

Normally, detection of the reliable path to `proto_code`
requires [FT_28_25_63_06.isolated_python.md][FT_28_25_63_06.isolated_python.md]
which implies re-starting `python` with `-I` option.

## Solution

The entry scripts can avoid `python` re-start by providing
the path to `proto_code` in `PROTOPRIMER_PROTO_CODE` env var.

However, the entry script must also import a module with its main function.
And importing requires reaching [FT_28_25_63_06.isolated_python.md][FT_28_25_63_06.isolated_python.md]
(otherwise, global or user packages might be imported instead of those from dedicated `venv`),
then switching to the dedicated `venv`.

In other words:
*   the `python` process which starts an `entry_script`
*   and the `python` process which will execute the `venv` dependent code
*   are two different processes.

---

[FT_75_87_82_46.entry_script.md]: ../feature_topic/FT_75_87_82_46.entry_script.md
[FT_89_41_35_82.conf_leap.md]: ../feature_topic/FT_89_41_35_82.conf_leap.md
[FT_28_25_63_06.isolated_python.md]: ../feature_topic/FT_28_25_63_06.isolated_python.md
