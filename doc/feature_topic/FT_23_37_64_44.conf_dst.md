---
feature_topic: FT_23_37_64_44
topic_title: conf dst
topic_status: TODO
---

TODO: Is this supposed to be called conf src (instead of `conf dst`)?
      While env config is placed under `dst` dir (to mean "destination" for deployment),
      the config values are mostly represent `src` for data.
      To rename or not to rename?

## Intro

In the context of `protoprimer`, there are few persistent configuration destinations:

*   `source_shebang` configuration is stored in [FT_02_89_37_65.shebang_line.md][FT_02_89_37_65.shebang_line.md] (related to `proto_code`).

    TODO: This is not implemented yet and may not work
          (`/usr/bin/env` does not allow setting env vars as shebang is interpreted by the kernel).

*   `source_global` configuration is stored in a config file common to all deployment (related to `ref_root`).

*   `source_local` configuration is stored in environment files (related to `local_env`).

Config dst is closely related to [FT_89_41_35_82.conf_leap.md][FT_89_41_35_82.conf_leap.md].

Essentially, the dst only manifests itself in the selection of the file to contain the information.

## Config overrides

Config data in `source_global` and `source_local` has many common fields.

There are simple/limited and complex/flexible approaches to "merging" the two data sources:
1.  for primitive field values, overriding is a straight-forward (almost universal) strategy
2.  for nested field values (e.g. `list` or `dict`), there can be multiple ways (override, merge, etc.)

The 1st approach is used for the common fields
where values from `source_local` take precedence over values from `source_global`.

The 2nd approach is used by [FT_00_22_19_59.derived_config.md][FT_00_22_19_59.derived_config.md].

---

[FT_02_89_37_65.shebang_line.md]: FT_02_89_37_65.shebang_line.md
[FT_89_41_35_82.conf_leap.md]: FT_89_41_35_82.conf_leap.md
[FT_00_22_19_59.derived_config.md]: FT_00_22_19_59.derived_config.md
